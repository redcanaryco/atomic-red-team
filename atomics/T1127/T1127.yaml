---
attack_technique: T1127
display_name: Trusted Developer Utilities
atomic_tests:
- name: MSBuild Bypass Using Inline Tasks
  description: |
    Executes the code in a project file using. C# Example
  supported_platforms:
    - windows
  input_arguments:
    filename:
      description: Location of the project file
      type: Path
      default: PathToAtomicsFolder\T1127\src\T1127.csproj
  executor:
    name: command_prompt
    elevation_required: false
    command: |
     C:\Windows\Microsoft.NET\Framework\v4.0.30319\msbuild.exe #{filename}
---
attack_technique: T1127
display_name: Trusted Developer Utilities
atomic_tests:
- name: MSBuild Bypass Using Custom Tasks
  description: |
    Executes the code in a project file and local assebmly using. C# Example
    Also demonstrates how to pass inputs to Custom Tasks.
  supported_platforms:
    - windows
  input_arguments:
    filename:
      description: Location of the project file
      type: Path
      default: PathToAtomicsFolder\T1127\src\T1127CustomTask.csproj
  executor:
    name: command_prompt
    elevation_required: false
    command: |
      C:\Windows\Microsoft.NET\Framework\v4.0.30319\csc.exe /r:Microsoft.Build.Framework.dll,Microsoft.Build.Tasks.v4.0.dll,Microsoft.Build.Utilities.v4.0.dll,System.IO.Compression.dll /target:library PathToAtomicsFolder\T1127\src\T1127.cs
      C:\Windows\Microsoft.NET\Framework\v4.0.30319\msbuild.exe #{filename}
